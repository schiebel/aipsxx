\documentclass[11pt]{article}
\usepackage{html, epsf}
\begin{document}
\title{\bf AIPS++ Quarterly Report: 1999 Q1}
\author{T.J. Cornwell, NRAO}
\date{1999 April 12}
\maketitle

\tableofcontents

\section{Introduction}

This quarter, we have focused intensively on preparation for the first
release. This includes finishing areas of functionality, integrating
different applications, improving robustness and documentation.
The code freeze for the release occured on April 1 (two weeks
later than originally planned about 6 months ago). We expect testing
and debugging to be complete by mid May, in time for a release at
the Chicago meeting of the American Astronomical Society starting
May 29.

\section{Developments in 1999 Q1}

In {\bf Single Dish support}, much work was done on preparing the dish
package for the release. 
\begin{itemize}
\item Bob Garwood and Tim Cornwell visited Arecibo for a demonstration
of dish and other single dish processing inside AIPS++. This visit was
very useful in confirming our view of the usefulness of dish and in
learning of priorities for further improvements.  Following
discussions there concerning the calculator capabilities of the NAIC
analysis program Analyz, a spectrum calculator was added to dish.
This allows easy manipulation of numbers, vectors, and spectra so they
may be added, subtracted, Fourier transformed, etc.
\item A new dish plotter based on the pgplotter tool was implemented.
This is a simpler interface which will be more familiar to
non-single-dish AIPS++ users than was the previous dish plotter.  This
should also ease long term maintenance by reusing other AIPS++ glish
plotting tools. It also allows the user to fine-tune the presentation
of final plots.
\item A mouse controlled copy and paste facility was added to the dish results
manager and the calculator interface.  
\item An operation to compute statistics over an interval of spectrum
was also added.  
\item The internals of dish have been largely rewritten so that, apart 
from the plotter, it no longer requires that the GUI interface be
present in order for the dish environment to be usable.
\item We have opened the data path from Unipops to AIPS++,
thus allowing, for example, the analysis of 12m data inside
AIPS++.
\end{itemize}

Both Bob Garwood and Joe McMullin continue to be involved in
supporting the GBT.  This includes regular 2 to 3 day visits by at
least one of them to Green Bank for most weeks during the quarter.
The AIPS++ position in Green Bank was filled during this quarter and
the new person, Jim Braatz, starts in the next quarter.  The primary
focus during this quarter was the complete rewrite of the GBT filler
and the reworking of the dish plotter.

The GBT filler rewrite was nearly complete by the end of this
quarter.  This was necessary in order to improve the speed of
the filler in time for planned tests of the GBT holography
backend in April.  The rewritten filler is about 50 times faster
than the old filler and holography data is supported as of
the end of the quarter.  Some additional fine tuning of
the filler for additional backends and to be more flexible
and automatic while handling on-line data remain to be done
in the next quarter.

Other work in support of the GBT included further iterations
with the Green Bank staff on GBT pointing issues.  Two avenues
for solving the pointing equations have been demonstrated
and documented.  Some small additions to the Green Bank
tipper data reduction were also implemented.  The old 
plotter used with the gbtlogview utility was replaced by
the pgplotter tool.

In {\bf Synthesis support}, the overall development priorities have
remain unchanged during this quarter, with a continued focus on
expanding the high-level scientific capabilities and user base of the
package. We have continued the strategy of working on high-level
imaging and calibration facilities to test the completeness of the
design and to provide advanced capabilities, while simultaneously
allocating resources for completing "thin-path" capabilities for
end-to-end reduction for the simpler scientific cases.

An additional, and specific focus during this quarter has been the
process of preparing for the public release. This has included the
incorporation of integration developments adopted since the
Applications Integration meeting held last November, and expanded
documentation and testing. A high-level cookbook for synthesis
reduction is under development in this regard, and will be integrated
with the "Getting Started" tutorial document (Anantharamiah, NRAO) and
the new GUI-based recipes contributed by R. Hjellming
(NRAO). Synthesis has benefited from the re-structuring of the user
interface, described elsewhere in this report, and the associated
rationalization of object-oriented terminology at the highest
scientific interface to the package.

The "thin-path" development efforts have included the VLA filler, for
which an initial implementation has been completed (R. Marson) and is
under testing, and an initiative to incorporate uv display
capabilities in the Display Library (P. Barnes, in collaboration with
ATNF). The filler will be in the public release. It has been
designed to be easily extendible to real-time filling, and to
form the basis for the VLBA filler.

The high-level imaging and synthesis capabilities developed during
this release include a significant continuing effort in mosaicing
(M. Holdaway and T. Cornwell), and wide-field imaging
(T. Cornwell). Developments in mosaicing include enhanced primary beam
correction options, an implementation of MEM, Lattice-based CLEAN and
the incorporation of multi-scale CLEAN in mosaicing. Testing of these
options with real data is underway. The simulator has been upgraded
(T. Cornwell), and will be developed further by M. Holdaway as part of
the mosaicing development plan. T. Cornwell has expanded the
wide-field prototype into a functioning capability. The projection
algorithm is that suggested by W. Brouw, L. Stavely-Smith and R. Sault
(ATNF), and thus differs from previous implementations in SDE and
AIPS. The low-level wide-field capability has been packaged as a
scientific module in Glish, called {\tt dragon}, and expands and
extends the previous capabilities available under this name in SDE. A
collaborative arrangement with the group at NRL (N. Kassim) has been
established for testing and evaluation of the wide-field software. The
members of this group are primary users of the VLA at 74 MHz, and have
significant experience in this type of reduction. The new AIPS++
Visiting Scientist, Kumar Golap, who joined NRAO in the
parallelization group in early April, will work closely with
T. Cornwell and A. Kemball in extending and parallelizing the
wide-field imaging capabilities.

In support of the wide-field imaging work, we have developed tools for
reading information from various radio catalogs (WENSS, NVSS, FIRST)
into AIPS++ component models. This, together with the positions
for standard sources available from the measures system, gives a
large degree of convenience in, for example, using the outlier
capability of {\tt dragon} to remove confusing sources. In 
addition star files from AIPS, and Caltech package model files
can also be read.

A meeting with the commercial Pixon company (R. Puetter and A. Yahil)
took place during this quarter (T. Cornwell and A. Kemball). General
terms were agreed for making the pixon deconvolution method available
in AIPS++ later this year. This will include parallelization
development. In broad terms, AIPS++ will provide an interface to the
pixon libraries in a set of imaging applications. The end-users will
be responsible for obtaining these licensed libraries from the Pixon
corporation separately, to be able to use these applications.

Calibration development has continued in this quarter, primarily in
increasing the robustness and cross-calibration capabilities
(A. Kemball). This development has followed the plan and design
outlined last year, without significant deviation. Expanded testing
with real and simulated data has been undertaken during this
quarter. Work has started on an assisted imaging tool (analogous to
DIFMAP (Caltech)), and it is planned that a preliminary version will
be included in the public release.

M. Wieringa has implemented all code infrastructure to support the
new MS v2.0 uv-data format, which holds significant advantages for
VLBI, advanced synthesis and single-dish reduction. This format has
benefited from significant scientific contributions from throughout
the consortium. In order to meet pressing priorities for this release
and to ensure maximum reliability, it has been decided to adopt the
format after the public release. The user impact will be transparent
at that time.

NFRA (J. Noordam) have continued the development of utilities
required for Westerbork commissioning, as discussed elsewhere in this
report. 

Work has started on integrating an existing site-testing
interferometer at the VLA into AIPS++, and moving the current software
into Glish and C++. This work is being undertaken by K. Desai, under
partial loan from the AIPS project. On a related matter, real-time
imaging remains an important area for AIPS++ after the release, and
preliminary discussions are underway in this area for the VLA. The use
of AIPS++ in a similar context at the ATCA (M. Wieringa) is further
developed at present, and is being moved to AIPS++.

The parallelization initiative with NCSA continues to have important
scientific implications for synthesis development, and a full
description can be found in the appropriate section of this report.
This collaboration is very helpful in opening up new challenges in
radio astronomy data reduction and imaging.

An important focus in synthesis planning for the period up to the
release is the expansion of the active scientific user base. To date
this has involved directed testing with small groups, and beta-testing
program. Expanded internal testing is planned for the period
immediately preceding the release of the public CD, with follow-on
visits to external sites planned for the summer (T. Cornwell and
A. Kemball).  We regard this as the most effective way in which to
expand the number of scientific users of the package, and it will be
pursued actively.

In {\bf Glish}, all of the problems were worked out to allow dynamic
loading the Display Library (DL) along with necessary portions of
AIPS++ into the glishtk widget client. This allows the glishtk client
to remain uncoupled from AIPS++ and the DL, but still permits the DL
to be loaded on-demand.

Also, a garbage collector was added to an experimental version of
Glish in an attempt to resolve memory leaks seen in Green Bank with
long-running glish processes. These leaks are the result of cyclic
references in records and functions, and as a result, require higher
level analysis than is possible with the simple reference counting
mechanism which Glish employs. However, as a result of the extra heap
overhead which the collector requires, we haven't decided how this
collector should be integrated into the main glish distribution.

Other Glish changes, accomplished during the quarter were:

\begin{itemize}
\item subsequence syntax and semantics improved for greater encapsulation
\item problems with nested await statements were resolved
\item configuration problem on HP fixed
\end{itemize}

In {\bf Measures}, no substantial changes were made.

In {\bf AIPS++ Infrastructure}, we have again focussed on integration of the
the user interface. Much effort has been expended on fine details of
the user interface, with the work shared by Tim Cornwell, Neil Killeen
and David Barnes, and feedback coming from our testers. We have added
an automated scripting capability to the GUI, with the possibility
of submission to a batch system where appropriate.

The {\tt table} tool can now read and write ascii files. We expect
this to considerably aid the use of AIPS++ for adhoc processing
and plotting.

In {\bf Image Analysis}, a substantial number of new capabilities
have been added via the efforts of Neil Killeen (aided by Ger
van Diepen). These are described below in Neil's contribution to
the ATNF report. The highlights (of a huge amount of work!) are:

\begin{itemize}
\item The {\tt imagefitter} tool was finished and integrated with the
Display Library. It now has many nice capabilities.
\item The {\tt regionmanager} was improved and integrated with
the user interface system.
\item Separable and non-separable convolution was added to
the {\tt image}.
\item Persistent image masks are now available and controllable
from Glish.
\end{itemize}

In {\bf Display}, the main acheivement was the successful deployment
of the display library inside Glish. David Barnes did much of this
work: 

\begin{itemize}
\item Continuing infrastructure work in the C++ Display Library, 
  in particular the implementation of non-linear axis 
  labelling, the re-write and improvement of 'toolkit' 
  components ({\em e.g.} colormap fiddling, zooming, {\em etc.}), and the
  addition of new toolkit components to support region 
  construction on display canvases, a need driven by the
  imagefitter application.

\item Continuing work and discussions on the provision of the
  Display Library Glish/Tk interface in the system.  This has
  now been completed and Display Library services are now
  available from glish via a dynamically loadable module.

\item Interaction with Athol and Peter regarding the implementation
  of uv visualisation components (DisplayDatas) for AIPS++.
  Provision to them of sample design layouts, and design
  guidance.

\item Interaction with Harold regarding the implementation of
  a PostScript PixelCanvas for the Display Library.  This
  has gone ahead, and PostScript output is now available
  at the C++ level.  Short term targets include the 
  provision of this facility in the viewer application.

\item Continuing work and bug fixes for the viewer application,
  driven both by the increasing number of users, and the
  specific requirements for the imagefitter application. 
  New features include a simple movie capability, and 
  a colormap manager.

\end{itemize}

In addition, Harold Ravlin developed a postscript driver for the
Display Library, and Darrell Schiebel worked to allow dynamic loading
of the DL by Glish.

In the {\bf System} The system was unstable for some period.  The main
reason was that shared libraries has to be used by glish to be able to
dynamically load the Display Library code.  Towards the end of the
quarter things settled down and the Display Library could be used.
However, it has not been tested on all platforms yet.

Egcs 1.1.2 has been used on HPUX10. It solved the cases where egcs
1.1.1 generated internal compiler errors.

In the area of {\bf Parallelization}, the parallelization group has
been involved with development, profiling, and scientific processing
during the first quarter of 1999.  The group is processing a large
four-pointing HI data set of Dave Westpfahl (NMT) using the NCSA
AIPS++ system.  Roberts carried out tests on imaging and deconvolving
up to 10 channels at a time (6000 x 6000 pixels on a side).  Execution
time appeared to be anomalously high and Young and Kemball have been
carrying out profile experiments to identify inefficiencies in the
serial performance using the SGI profiling tools (SpeedShop,
CaseVision, and perfex).

A graduate student in the UIUC Computer Science department, Enkelejda
(Ledi) Imeraj, has been working with the parallel group to put in I/O
instrumentation into the AIPS++ I/O routines.  She is now testing I/O
performance on the NCSA Origin2000 on the test M33 data set of Dave
Westpfahl.  The same Origin hardware/software problems have affected
her analysis.  The system now seems stable enough for her to
continue. 

In {\bf Documentation}, we revised {\em Getting Started in AIPS++},
started on a cookbook, decided on a format for GUI-based recipes, and
implemented a FAQ. We also deployed an {\tt ask()} function inside
AIPS++ for asking help from an AIPS++ expert. We also started work on
issues related to the release such as a design for the CDROM cover.
We issued on edition of the newsletter (Feb99).

In {\bf Management}, we started gearing up our outreach program with a
presentation at the January AAS meeting, presentations inside NRAO at
Tucson and Charlottesville, at the AUI Board (again), and with a visit
to and presentation at Arecibo.

We have been approached by Phil Diamond, the new Director of MERLIN,
concerning two points. First MERLIN will adopt AIPS++ for processing
of their data. Secondly there is a distinct possibility that Jodrell
Bank would like to rejoin the active members of the consortium. This
would be pending a funding request. 

In the {\bf Quality Assurance Group}, we decided to give the
code-review process lower priority until the release.  While we
recognize the danger in following such a policy for more than a short
time, it was necessary to enable the various deadlines to be met.

\section{Preparation for the First Release}

The key areas of concern identified in the last quarterly report, and
current status are:

\begin{description}
\item[Robustness of Glish:] The robustness issues have been
investigated further. We found that Glish itself still has somewhat
esoteric bugs in the interpreter, which have been provoked by usage in
the Tasking system.  Darrell Schiebel and Tim Cornwell have worked
together on fixing these. There remains work to be done but we are
confident that we will be able to make satisfactory progress before
the scheduled release.

\item[Integration of the Display Library:] This has been
a spectacular success. The targets have all been met with only
minor delays, if any. This is captured in an excerpt from David
Barnes' weekly report from April 9:

\begin{quote}
PostScript: yesterday wrote a small class called the GTkPSPixelCanvas,
which will be used to make an agent called the pspixelcanvas.
Adjusted GTkWorldCanvas so that worldcanvas agents can be constructed
on top of either pixelcanvas objects or pspixelcanvas objects.
Yesterday managed to get some PostScript output, and at the same time,
prompted by some problems there, made the GTk Display Library much
more stable to the loss of agents.  Just in the last two hours added
the Print button to the viewer, and I can successfully print the
contents of DisplayPanels!

This is a Milestone.  It's an absolute credit to the fundamental
design of the PixelCanvas and WorldCanvas system of John P. [Pixton] and
Tom O. [Oosterloo], and the recent implementation work of Harold
[Ravlin], that in one day I've been able to add printing capabilities
to the viewer.  I'm standing on the shoulders of giants here guys!
Ok, ok, so you can see, I'm quite pleased with this week's work in the
end!
\end{quote}

Of course, David should take most of the credit for turning the
Display Library into a polished product. As David say, Harold
Ravlin has done an excellent job in providing a Postscript
driver for the library.

\item[Completion of integration issues:] Our local testers seem to
agreed that the user interface is now acceptable. There remain
bugs to be fixed and minor issues to be addressed but the main
work here is done.
\end{description}

We have now embarked upon testing and completion of documentation.
The steps here are:
\begin{enumerate}
\item Review documentation and read code
\item Test functionality
\item Generate test scripts
\item Generate recipes
\item Keep statistics of usage
\item General
\end{enumerate}

Most code development has now ceased and AIPS++ staff are engaged 
upon these tasks, with some help from our testers.

Documentation is now one of the top concerns for the release. While
we have extensive reference documentation, we still struggle to
provide higher level documentation. The key steps here are:

\begin{description}
\item[Checking of the Reference Manual]: Material in the reference
manual must be painstakingly checked for completeness and
correctness. This work is spread amongst the AIPS++ staff.
\item[Completion of the Revised {\em Getting Started in AIPS++}]:
Anantha is revising his document to reflect the recent changes in
the user interface. This is well in hand.
\item[Development of a cookbook]: Athol is to provide a brief
high-level description of the synthesis capabilities. This will
be expanded into other areas. This has started but is still
in early stages.
\item[Provision of processing recipes]: The cookbook will be a
relatively thin layer on top of a collection of recipes for
processing. The recipes must concentrate on processing using the
GUI, since we expect that to be the dominant mode of use.
\item[Provision of a FAQ]: We have a FAQ page that is linked to
by an {\tt ask()} function available inside AIPS++. This FAQ
must be filled out. We have much of the material for this
in other documents, and we also intend to harvest more from
the questions asked via {\tt ask()}.
\item[Updating of the Glossary]: The AIPS++ Glossary was originally
compiled by Alan Bridle some years ago. It must be updated
to reflect recent changes. This is moderate amount of work.
\end{description}

We have started consideration of the impact of supporting the
release. We intend to follow many of the details laid out in the
AIPS++ Operations Plan. One recent technical change is that
we plan an {\em AIPS++ Update}, similar to that used in 
{\em e.g.} Windows, whereby changes to the system can be
downloaded easily. This is technically quite straightforward,
and will allow us to repond to our users more expeditiously.
We expect that Update will be issued about once per month,
with major releases (including source code), every 6 months.

The release will be made available on CDROM. Disk space limitations
mean that only the two major distributions, Solaris and Linux, will be
present on the CDROM. The other distributions, HPUX, Dec Unix, and SGI
Irix, will be available via anonymous ftp. The CDROM cover has been
designed: it shows the AIPS++ logo, an image of the Magellanic Stream
from the Parkes Survey, and the logos of the consortium partners.

\section{Developments planned for 1999 Q2}

Most work for the next quarter will be focused on preparing
for the release, as described in the previous section.

In {\bf Single Dish}, after the release, work on dish will be
concentrated on rounding out the functionality to include
multi-component fitting and to allow direct interaction with an AIPS++
MeasurementSet.

Work on single dish calibration and imaging was postponed in Q1 due to
the demands of the GBT filler and the planned AIPS++ release.  This
work will need to start this quarter.  Discussions also need to being
on a unified approach to holography within AIPS++.

Support for the GBT will be improved due to Jim Braatz being the new
AIPS++ person in Green Bank.  Joe's responsibilities in Green Bank
will be gradually shifted to Jim.  Jim will work closely with the GBT
mockup in testing AIPS++ with other components of the GBT.

The GBT filler work will be largely completed during this
quarter. This will include rounding out support for all current
backends as well as migrating to version 2 of the MeasurementSet.
Tests will begin on providing limited near real-time display of GBT
data.  The purpose of these types of display is to give a quick look
at the data so that data quality can be monitored.

There are two holography tests planned in or shorter after this next
quarter.  A hardware test is scheduled for April.  While this is
primarily designed to test the GBT hardware, the filler needs to be
functional in order to assess the success of this test.  A second test
is tentatively scheduled for shortly after this quarter.  This test
will be as full a test as possible using the 140' telescope.  Existing
UniPOPS scripts and utilities will be translated into glish so that
holography images can be generated from this data.

\section{Appendix: ATNF contribution {\em  Neil Killeen}}

\subsection{General}

This quarter the ATNF had 3 people working in AIPS++.  These are Neil
Killeen (75\%, also local manager), Mark Wieringa (30\%) and David Barnes (75\%).   
Wim Brouw was still on secondment to ATOMS and spent only about
10\% of his time on AIPS++ this quarter.


\subsection{System}

Our systems (Solaris/Gnu and Digital Unix/egcs) were generally stable
this quarter.  We now have a running Solaris egcs system as well at
Epping.  The Linux AIPS++ system was not yet built owing to riduculous
delays imposed on us by the vendor of the Linux PC in procuring some
cables.  That system is now ready for an AIPS++ installation. 


\subsection{Visits}

None

\subsection{Individuals}

\subsubsection{David Barnes}

David's time was spent on the DL work described above, and also on:

\begin{itemize}
\item Hand-over of the autogui developed for the Display Library
  to Tim for use as the system-wide autogui.  Various work
  related to this, including interface design issues, and
  provision of pixmaps for various buttons.
\end{itemize}

\subsubsection{Wim Brouw}

Wim has spent his time this quarter on:

\begin{itemize}
\item Fitting.  The new low-level fitting classes were attached to the
  higher level ones.  Wrote a note (224) describing the implementation.

\item Miscellaneous discussions on widgets, mask proposal,
  testing plan,  refraction,  MS2, NaN conversion,
  constants, 

\item Put a spectral-line data base into the system

\end{itemize}

\subsubsection{Neil Killeen}

Neil's time was splattered over a range of things this quarter,
although the main focus was, as always, images. Neil's time went on:


\begin{description}
\item[Coordinates]

\begin{itemize}
\item Finished preparing Coordinates classes for code copping. 
\item Implemented mixed world/pixel coordinate conversions. 
   Some substantial time was spent on getting it to run fast enough
   (required some restructuring of the Coordinate classes)
\end{itemize}

\item[imagefitter application]
 
\begin{description}
\item[Fit2D  class]
\begin{itemize}
\item support for holding parameters  fixed
\item changed interface to major/minor axes rather than
     major/axial ratio
\end{itemize}

\item[GaussianConvert class]
\begin{itemize}
\item rework to handle unequal pixel increments
\item implement location conversion
\item emails about position angle conventions
\item connection to image DO
\end{itemize}

\item[imagefitter.g]
\begin{itemize}
\item make it more robust via context dependent disabling/enabling
     of the GUI
\item support model subtraction from input image
\item add ability to refit with last region
\item add autofitting ability from list of saved regions
\item handle multi-dimensional images
\item save component list to a table
\item added popuphelp to GUI
\item integrate with Display Library.  This was the most important
     change.   This significantly enhances the fitter as it gets
     all David's nice DL stuff for free.  It was easy to do this.
     People will love the DL !
\end{itemize}
\end{description}

\item[regionmanager]
\begin{itemize}
\item infrastructure work to do with saving/getting regions to and from tables
\item copy/paste to clipboard
\item Improve communications with regionentry widgets regarding
   the connecting and disconnecting of the link between regionmanager GUI
   and the region entry widget who requested it
\item Integrate with new synclistboxes.g widget 
\item Pulled code out and reworked into three general purpose
   widgets: {save,delete,restore}regions.g
\item Made regionsupport.g in support of these widgets and regionmanager
   (improving commonality)
\end{itemize}


\item[widgets]

\begin{itemize}
\item Wrote checkmenu.g
\item Wrote test scripts for optionmenus
\item dialogbox.g now handles many entry widget types thus imporving
UI integration
\end{itemize}

\item[Images]

\begin{itemize}
\item Rewrote the test program for the fundamental image class
   as it was years out of date.  Found some bugs doing this !

\item Created class ImageInfo and test program to store information 
   like the restoring beam.  Integrated it with PagedImage and ImageInterface

\item Reworked the memory allocationm of some of my support classes
   so that they are more robust in the face of adversity

\item Convolution work.  I needed to provide some basic image convolution
   capability to users.  

\begin{itemize}
\item I wrote classes SepImageCOnvolver and VectorKernel in support of 
    separable image convolution.
\item Integrated these classes with ImageMoments (which was doing 
    its own separable convolution) and DOimage.cc
\end{itemize}

    I am yet to provide n-dimensional functional convolution (e.g.
    convolver ny image by this N-d Gaussian functional) as it is
    a hard UI problem that I did not have time to do

\item image.g (Glish script providing basic image functionality to user)

\begin{itemize}
\item Ger has provided the functionality to handle persistent masks now.
     So my major task was to integrate masks with the image module.
     This required work in support classes, the image DO and Glish
     binding.   Now we have the capability to store multiple masks
     per image, and select which one we want to apply.  

\item New constructors: subimage
\item New functions
\begin{itemize}
\item maskhandler (interact with masks)
\item delete (delete the disk file of this Glish image tool)
\item rename (rename the disk file of this Glish image tool)
\item history (show the history)
\item sepconvolve (n-dimensional separable convolution)
\item arrconvolve (convolve your image by this array)
\end{itemize}

\item New custom GUIs for functions: moments, maskhandler, sepconvolver
\item Expanded test script and integrated with new os.g

\end{itemize}
\end{itemize}

\item[ATCA filler] Made a closure object that invokes the binary


\item[User Interface] Many, many [many, many, {\em ed.}] email discussions
about this and continual evaluation as the UI evolved

\item[Management]
 
\begin{itemize}
\item Attend monthly management meetings
\item Brief/debrief RDE for executive meetings 
\item Make quarterly report
\item AIPS++ constribution to ATNF annual report
\item Talk to ATNF user committee about transition to AIPS++
\item Talk with some Parkes staff about using AIPS++ for their
   needs and show/watch software
\item Demo (with David) at joint AAO/ATNF symposium.  
\end{itemize}

\end{description}



\subsubsection{Mark Wieringa}

This quarter Mark's time has been spent on

\begin{description}
\item[MeasurementSet v2.0]

 - Finalizing of design with Athol 
 - Implementation of all the changed MS classes. This has been completed. 
 - Started implementing TableMeasures and Quanta for the appropriate columns.
 - Updating of all files dependent on the MS classes is in progress.

\item[System work] Got imager to work on the alpha, and the local documentation to build.

\item[ATCA filler]  The prototype ATCA quasi real-time imaging pipeline
(implemented with Miriad scripts) will be redone with AIPS++.
Worked with Frederic Badia on an on-line ATCA filler to be used for this.

\end{description}

\section{Appendix: BIMA/NCSA contribution {\em  Doug Roberts}}

\subsection{GENERAL/SYSTEM}

Harold Ravlin installed egcs on a number of machines, most importantly
on the new UIUC Sparc 250 server.  Roberts installed AIPS++ under the
newest version compiler from egcs (1.1.2) on the new UIUC Sparc 250
server running Solaris 2.7.  Currently, all the libraries and
applications built properly.  Glish builds, but the Tk version of
Glish does not perform correctly.

Ravlin and Roberts implemented a work around not being able to mount
the master directory with setuid permissions.  Now UIUC is able to
mount the master disk from Socorro without setuid permissions.  This
isolates the systems and provided a bit better security than with the
setuid permissions.

\subsection{VISITS}

Doug Roberts visited Socorro to meet with Wes Young and Athol Kemball
March 15-19, 1999.  Roberts spent the majority of his time working
with Young to stabilize the SGI build.  Hardware and software upgrades 
at NCSA as well as general AIPS++ code development (especially
GlishTk) has created a rather unstable system on the SGI during the
first quarter of 1999, which required extensive oversight by Young and 
Roberts.  Doug Roberts consulted with Kemball in terms of the short
term goals of the parallelization project.

\subsection{INDIVIDUALS}

\subsubsection{RAVLIN}

Harold worked on a PostScript driver for the display library.  The
driver now supports: 

\begin{itemize}
\item Most of the vector functions.
\item Images displayed as indexed images.
\item Text.
\item Changing the color table.
\item At least partial support for EPS.
\item Numerous page sizes or user supplied size.
\item Portrait or landscape modes.
\end{itemize}

Note, output is is PostScript level 2 which means really old printers,
such as early Apple LaserWriters, probably won't work.  

\subsubsection{ROBERTS}

Roberts has been working extensively as a co-editor on the ADASS'98
proceedings as well as preparing a write up of his AIPS++
Parallelization talk and assisting a write up of the Demo that Young
and Roberts did at the ADASS'98 conference.

\section{Appendix: NFRA contribution {\em  Ger van Diepen}}

\subsection{Tables:}

A few improvements have been made:
\begin{itemize}
\item Storage managers have been changed such that the indirect arrays
  of all columns for a storage manager are now written in one file.
  This should reduce the number of files used.
\item Table locking/synchronization is now also supported for keywords.
  This was needed to be able to work well with Image regions in
  multiple processes.
\item The gtable client got facilities to get or put a subrecord of
  a keyword. In that way it was much easier to define a region
  in an image.
\end{itemize}

An article discussing the tiled storage managers has been written
for the newsletter.

\subsection{Lattices/Images}

Functions have been added to the Image classes to be able to define
and use masks and regions in an image.  A PagedImage can have zero or
more masks and regions defined.  One mask can be designated as the
mask which will by default be used when the image is opened.  The
class MaskedImage has been removed, because ImageInterface is now
directly derived from MaskedLattice. It made the inheritance tree much
simpler.  LatticeApply has been changed to write the resulting mask
when the output lattice has a writable mask.

The Lattice Expression Language has been extended to deal with regions
and masks. Note 223 has been written explaining the LEL functionality
and possibilities.  After a comparison between LEL and ArrayMath, LEL
has been optimized to take advantage when ArrayLattice objects are
used internally.

\subsection{Miscellaneous}

The os client has been written to handle OS-related functions.
In particular it handles file-related functions.

Michael Haller and Ger van Diepen gave a Glish course for about 20 local people.
Ths first session discussed the basics and the second the gui parts.
In the last session we discussed some exercises and examples.
It was very much appreciated. The slices will be checked into
the system.

Michael and Ger spent some time discussing the TableMeasures.
It appeared that some changes were needed to make them fully
suitable for MS version 2. Alas Michael left NFRA before he
could finish the changes. Ger hopes to finish it as soon as
possible.

\section{Appendix: NRAO contribution {\em  Tim Cornwell}}

The core NRAO AIPS++ group is now Barnes (100\%), Braatz (100\%),
Cornwell (100\%), Garwood (100\%), Golap (100\%), Holdaway(100\%),
Kemball(100\%), Marson (100\%), McMullin (100\%), Schiebel (100\%),
Weatherall (50\%), and Young (100\%, Golap and Young are funded by
NCSA-NRAO collaboration.

\subsection{Hardware}

We have upgraded our Solaris server (Tarzan) to an UltraSparc
10. We have replaced two old 200MHz PCs with new 450MHZ machines.
We have installed an SGI Origin 200 for use in wide-field imaging
research and production.

\subsection{Individuals}

\subsubsection{Peter Barnes}

Peter worked on provision of visibility visualization capabilities
using the Display Library. This work is on-going.

\subsubsection{Tim Cornwell}

Tim did the following:
\begin{description}
\item[User interface:] 
\begin{itemize}
\item Polished entry widgets
\item Added new types to the interface. An example is a {\tt tool}
type which allows a tool to be returned from another tool.
\item Engaged in many email discussions regarding the interface
\item Improved robustness
\end{itemize}
\item[Synthesis:] 
\begin{itemize}
\item Provided translation capabilities from various catalog
formats (NVSS, WENSS, FIRST) to {\tt componentmodels}.
\item Developed wide-field application {\tt dragon}, built
on top of {\tt imager} and {\tt calibrater}. This has many
of the capabilities of the SDE dragon but also has many
substantial improvements, the most important of which being
a new approach to faceting: facets are now calculated on
one tangent plane using the analysis of Sault, Staveley-Smith
and Brouw.
\item Collaborated with Mark Holdaway on mosaicing.
\end{itemize}
\item[Management:] Tim did most of the work described above
under Management.
\item[Bugs:] Tim is currently the first point of contact for bug
reports. As a result, Tim did bug fixes in many different parts of the
system.
\item[Newletters]: Provided various articles for the newsletter.
\end{description}

\subsubsection{Bob Garwood}

Bob Garwood's primary responsibility is to oversee and contribute
towards the single dish work in AIPS++.  This work remains focussed on the
"dish" environment and the support of the GBT.  His contribution
in support of the GBT is primarily through the GBT fillers which
convert the GBT FITS data files to an AIPS++ MeasurementSet.

Over the past 3 months (January through March) he has done the
following:

\begin{itemize}
\item        Completely rewrote the GBT fillers for DCR and holography backend data.
        The fillers are now about 50 times faster than they were previously.
        This rewrite has also refocused attention on several outstanding
        GBT Monitor and Control and AIPS++ integration issues which are now
        being worked on.

\item        Rewrote much of dish so that it is no longer a pure GUI environment.
        When finished, this rewrite will result in dish being able to
        be executed from the command line with the GUI present (except for
        the plotter).  It should also be easier to maintain and easier for
        expert users to add their own operations to dish.

\item        Exchanged single dish fits binary tables with Arecibo.

\item        Written a utility AIPS++ program (uni2sdfits) to convert unipops FITS
        binary tables into binary tables which follow the single dish FITS      
        convention.  With this program it is now possible to view unipops
        data with the AIPS++ dish environment.

\item        Helped the Arecibo staff install AIPS++.

\item        Visited Arecibo to demonstrate the current state of AIPS++ as well as
        to talk about specific Arecibo needs from AIPS++.  Working with Arecibo
        data turned up several bugs in the dish environment which were
        then fixed.

\item        Continued to update a refine the GUI guidelines.

\item        Wrote an article for the most recent AIPS++ newsletter.

\item        Visited Green Bank several times.
\end{itemize}

\subsubsection{Mark Holdaway}


Mark Holdaway finished implementing the Cornwell and Evans maximum
entropy algorithm, which is available from the deconvolver
application, and will soon be available from imager.  Also, Mark has
altered the Clark Clean algorithm to act on Lattices instead of
arrays, permitting the Clark Clean to operate on arbitarilly large
images.  In addition, he has performed a number of incremental
improvements to the deconvolver and imager applications, including
adding masks to the multiscale clean and improving progress displays for
multiscale and Clark Cleans.

Mark is nearly complete with the integration of the new primary beam
and voltage pattern classes with a simple user interface in the style
of the RegionManager.  The voltage pattern manager is called upon to
set the voltage pattern descriptions approriate for a measurement set
whenever voltage patterns or primary beams are required.  After this
work is complete, mosaicing integration will begin.



\subsubsection{Athol Kemball}

\subsubsection{Ralph Marson}

Ralph worked almost exclusively on the VLA filler, which is now
checked in and being tested. 

\subsubsection{Joseph McMullin}
Joseph McMullin's main responsibilities are managing the Green Bank installation
of AIPS++, supporting AIPS++-related GBT needs, and work on single dish 
applications within AIPS++.

\begin{description}
\item[Astronomical Pointing with the GBT]
Iterated with GB staff on pointing issues. Solidified concept of pointing 
record for archiving. Demonstrated two avenues of solving the pointing
equations (through TPOINT software and Mathematica). Wrote up a document
detailing a demonstration of these avenues with pointing data from other
telescopes.

\item[GBT tipper monitoring] Some modifications to the tipper
monitoring in GB. Statistics were added to take account of missing
data for both poor atmospheric fits and for mainenance 'down' time.

\item[Calculator in DISH]
A spectrum calculator was implemented in DISH. It allows easy
manipulation of numbers, vectors and sdrecords (DISH spectra) so they
may be added, subtracted, fourier transformed, etc. Information is
exchanged through the standard mouse cut/paste clipboard. New results
are automatically displayed where possible.

\item[Interval statistics in DISH]
Added an operation to DISH which computes statistics over an interval of a
spectrum (start, finish, peak value, freq/channel of peak, centroid, area, 
minimum and rms).

\item[GBT spectrometer] Worked further on a script for doing passband tests with the GBT spectrometer.

\item[Outreach] Presented AIPS++ demos at the AAS in Austin, TX. Wrote automated scripts for
demonstrating DISH functionality. Demo of GBT utilities in AIPS++ for
CV (limited audience due to disk problems).

\item[gbtlogview] Replaced gplot1d plotter with pgplotter for gbtlogview. Added some graphical
features (scrollbars to accomodate longer field names and changed
directories to reflect new GB standards).

\item[dish] Implemented a new DISH plotter based on pgplotter for a simpler and more
familiar interface for most users. Simplifies zooming and overlay use. 
Allows editing and easy markup of plots. Incorporates a tool
for spectral line identification based on the Poynter/Pickett spectral line
catalog. Prints optional header information in four levels. Allows flexible
axis control.

\end{description}

\subsubsection{Darrell Schiebel}

Darrell performed the work on Glish described above.

In addition to these tasks, Darrell Schiebel worked on the GBT
observer table parser and a script to automatically create a beta
release from an AIPS++ installation.

\subsubsection{Kate Weatherall}

\begin{itemize}
\item	Worked on dangling links and fixed incorrect or broken paths to documentation

\item	Had AIPS++ logo put on NRAO front page

\item	Made recipes four through six consistent

\item	Took off kweather@nrao.edu on web site, replaced with aips2-requests@nrao.edu

\item	Converted PowerPoint presentation (AIPS++ Capabilities) to
html, checked into the system, and made a link to it from the first page

\item	Located all the *.help files and changed terminology: object
to tool, method to function, gui to GUI.

\item	Fixed  {\em Getting Started  Manual} so an html version would be produced

\item	Helped find bugs in  Reference Manual that caused it not to build

\item	Updated web pages (front web page, personnel web page, and job opportunities
	web page)

\item	Edited and produced, in HTML and Latex, AIPS++ February 1999 Newsletter

\item	Found all Changes Proposals that weren't on the web and posted

\item	Added two new web pages to the site, and buttons,   Frequently
Asked Questions  and  Latest AIPS++ News 
\end{itemize}	

\subsubsection{Wes Young}

\begin{itemize}
\item Completed the scripter.  This allows creating and submitting "batch
scripts"
  from the AIPS++ auto-gui (We demo'ed this at the ADASS).

\item Evaluated ClearDDTs as an alternative to GNATS bug report system.
  Placed an order for ClearDDTs.

\item With Athol Kemball did a set of profiling runs of one plane of Dave
Westpfahl's M33 data set on the SGI and Solaris.  We did image sizes
of 256, 512, 1024, 2048 and 6044.  We concluded we need to do more
parallelization for the griding and dirty image creation routines.

\item Finished work on a glish record-browser.

\item Wrote an ask function, so user can submit questions to the local
AIPS++ site manager.

\item Provided SGI support for AIPS++. 
\begin{itemize}
  \item Identify and fix (or send them to someone who could) build problems
  \item Installation of new wide field imaging machine, argus.aoc.nrao.edu,
a four processor SGI Origin 200 with 108GB of disk and 2 GB of memory.
\end{itemize}
\item Helped with the upgrade of tarzan to an Ultra 10

\item Reorganized disks on tarzan to avoid running out of disk space.

\item Provided documentation support.

\item General AIPS++ support, bug fixes, system and GNATS administration.

\end{itemize}

\section{Appendix: Summary of AIPS++ Personnel Changes}

[Preliminary]

In this section, we give the names of people in the various AIPS++
groups and the nominal fraction of time allocated to AIPS++.

The ATNF group is: Neil Killeen (75\%, also local manager), Wim
Brouw (20\%), Mark Wieringa (30\%) and David Barnes (75\%).

The BIMA/NCSA group is: Harold Ravlin (50\%), Doug Roberts (50\%).

The NRAO group is: Tim Cornwell (100\%), Jim Braatz (100\%), Bob
Garwood (100\%), Kumar Golap(100\%), Mark Holdaway (100\%), Athol
Kemball (100\%), Ralph Marson (100\%), Joe McMullin (100\%), Darrell
Schiebel (100\%), Kate Weatherall (50\%) and Wes Young (100\%).  Young
and Golap are funded by NCSA-NRAO collaboration.

Thus, in aggregate, we have 18 people contributing about 13 FTEs to
the AIPS++ Project. Of these, 9 are employed by NRAO (one funded by
NCSA), and contribute 8.5 FTEs. The numbers for the other partners
are: ATNF 4 and 2, BIMA/NCSA 2 and 0.55, NFRA 3 and 1.9. There are
three unfilled positions, one at BIMA/NCSA (Briggs) and two at NRAO
(GBT scientist, parallel applications developer: Kumar Golap due in
April).

\end{document}

