<?xml version="1.0" encoding="UTF-8"?>
<psd:pset xmlns:psd="http://www.aoc.nrao.edu/~sharring/psd.html"  
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
          xsi:schemaLocation="http://www.aoc.nrao.edu/~sharring/psd.html ../../common/src/psetdef.xsd">

<!-- This is the param set for invert -->
<!-- This does the equivalent of -->
<!-- imgr:=imager('anyfile.ms'); -->
<!-- imgr.setvp(dovp=T); -->
<!-- imgr.setdata(mode='none',fieldid=[3:7],spwid=[1:3]) -->
<!-- imgr.setimage(nx=512,ny=,cellx='1arcsec',celly='1arcsec',stokes='I',-->
<!--               mode='channel',start=35,step=1,nchan=40, -->
<!--               fieldid=[1]) -->
<!-- imgr.weight('natural'); -->
<!-- imgr.setoptions(padding=1.0,ftmachine='mosaic'); -->
<!-- imgr.setmfcontrol(scaletype='NONE',minpb=0.1); -->
<!-- imgr.clean(algorithm='csclean',niter=500,model='field1') -->

<name>mosaic</name>
<comment>Form images from multi-field visibilities. Handles continuum and spectral line cubes.</comment>
   <param xsi:type="psd:string">
<name>vis</name>
<required>true</required>
<prompt>e.g. orion.ms</prompt>
<help>name of input visibility file (MS)</help>
</param>
   <param xsi:type="psd:string">                      
<name>alg</name>
<required>true</required>
<prompt>e.g. 'mfclark'</prompt>
<help>Algorithm to use (mfclark,mfhogbom). Default is 'mfclark'.</help>
<default>mfclark</default>
</param>
   <param xsi:type="psd:int">
<name>niter</name>
<required>false</required> 
<prompt>e.g., 500</prompt>
<help>Number of iterations. Default=1000.</help>
<default>1000</default>
</param>
   <param xsi:type="psd:double">
<name>gain</name>
<required>false</required>
<prompt>e.g., 0.1</prompt>
<help>The minor iteration loop gain. Default is 0.1.</help>
<default>0.1</default>
</param>
   <param xsi:type="psd:double">
<name>threshold</name>
<required>false</required>
<prompt>e.g., 0.1</prompt>
<help>Threshold flux level at which to stop cleaning (in Jy). Default is 0.Jy.</help>
<default>0.0</default>
</param>
   <param xsi:type="psd:stringArray">
<name>residual</name>
<required>false</required>
<prompt>e.g., residual.im</prompt>
<help>name of residual image. Default is model name concatenated with ".residual".</help>
<maxlen>10</maxlen>
<default>residual</default>
</param>
   <param xsi:type="psd:stringArray">
<name>image</name>
<required>false</required>
<prompt>e.g. restored.im</prompt>
<help>name of restored image. Default is model name concatenated with ".restored".</help>
<maxlen>10</maxlen>
<default>restored</default>
</param>
   <param xsi:type="psd:stringArray">
<name>model</name>
<required>true</required>
<prompt>e.g. model.im</prompt>
<help>name of model image. No default.</help>
<maxlen>10</maxlen>
</param>
   <param xsi:type="psd:stringArray">
<name>mask</name>
<required>false</required>
<prompt>e.g. mask.im</prompt>
<help>name of mask image. No default.</help>
<maxlen>10</maxlen>
</param>
   <param xsi:type="psd:string">
<name>mode</name>
<required>true</required>
<prompt>none, channel, velocity, opticalvelocity</prompt>
<help>Type of processing (channel or velocity)</help>
</param>
   <param xsi:type="psd:string">
<name>gridfn</name>
<required>false</required>
<prompt>e.g. SF, BOX, PB</prompt>
<help>Type of gridding function (spheroidal wave, box car, primary beam</help>
<default>SF</default>
</param>
   <param xsi:type="psd:string">
<name>grid</name>
<required>false</required>
<prompt>e.g. mosaic, ft </prompt>
<help>Type of gridding mosaic or ft (standard interferometry)</help>
<default>mosaic</default>
</param>
   <param xsi:type="psd:intArray">
<name>nchan</name>
<required>false</required>
<prompt>e.g., 1</prompt>
<help>With mode, this defines the number of channels for mapping of visibilities to image channels</help>
<maxlen>10</maxlen>
<default>1</default>
</param>
   <param xsi:type="psd:intArray">
<name>start</name>
<required>false</required>
<prompt>e.g., 1</prompt>
<help>With mode, this defines the starting channel for mapping of visibilities to image channels</help>
<maxlen>10</maxlen>
<default>1</default>
</param>
   <param xsi:type="psd:intArray">
<name>width</name>
<required>false</required>
<prompt>e.g., 1</prompt>
<help>With mode, this defines the width of channels for mapping of visibilities to image channels</help>
<maxlen>10</maxlen>
<default>1</default>
</param>
   <param xsi:type="psd:intArray">
<name>step</name>
<required>false</required>
<prompt>e.g., 1</prompt>
<help>With mode, this defines the step of channels for mapping of visibilities to image channels</help>
<maxlen>10</maxlen>
<default>1</default>
</param>
   <param xsi:type="psd:intArray">
<name>imsize</name>
<required>false</required>
<prompt>e.g. 256,256</prompt>
<help>The size of the output image (pixels). </help>
<maxlen>10</maxlen>
<default>128</default>
<default>128</default>
</param>
   <param xsi:type="psd:intArray">
<name>cell</name>
<required>false</required>
<prompt>e.g. 1,1</prompt>
<help>The image cell size (arcseconds). </help>
<maxlen>10</maxlen>
<default>1</default>
<default>1</default>
</param>
   <param xsi:type="psd:string">
<name>stokes</name>
<required>false</required>
<prompt>e.g., 'I', 'IQUV', etc</prompt>
<help>Stokes params to image. Default is 'I'. Allowed: I, IV, IQU, IQUV</help>
<default>I</default>
</param>
   <param xsi:type="psd:intArray">
<name>fieldid</name>
<required>false</required>
<prompt>e.g. 1 or 1-3</prompt>
<help>Field IDs to include. Default is 1. Allows a vector of available field ids.</help>
<maxlen>10</maxlen>
<default>1</default>
</param>
   <param xsi:type="psd:int">
<name>reffieldid</name>
<required>false</required>
<prompt>e.g. 1</prompt>
<help>Reference Field IDs to use. Default is 1.</help>
<default>1</default>
</param>
   <param xsi:type="psd:intArray">
<name>spwid</name>
<required>false</required>
<prompt>e.g. 1,2</prompt>
<help>Spectral Window IDs to include. Default is 1. Allows a vector of available spectral window ids. </help>
<maxlen>10</maxlen>
<default>1</default>
</param>
   <param xsi:type="psd:string">
<name>weighting</name>
<required>false</required>
<prompt>e.g., 'natural', 'uniform', 'briggs', 'radial'</prompt>
<help>Type of weighting (natural, uniform, briggs, radial). Default is uniform.</help>
<default>uniform</default>
</param>
   <param xsi:type="psd:string">
<name>mosweight</name>
<required>false</required>
<prompt>e.g., 'natural', 'uniform', 'briggs', 'radial'</prompt>
<help>Type of weighting used for the mosaic. T means that each field will be weighted individually.</help>
<default>T</default>
</param>
   <param xsi:type="psd:string">
<name>rmode</name>
<required>false</required>
<prompt>e.g., 'none'</prompt>
<help>Mode of Briggs weighting ('norm', 'abs', 'none'). Default is 'none'.</help>
<default>none</default>
</param>
   <param xsi:type="psd:double">
<name>robust</name>
<required>false</required>
<prompt>e.g., 0.0</prompt>
<help>Parameter in briggs weighting. Range -2.0 to 2.0. Default is 0.0.</help>
<default>0.0</default>
</param>
   <param xsi:type="psd:double">
<name>minpb</name>
<required>false</required>
<prompt>e.g., 0.1</prompt>
<help>Minimum PB level to use. Default is 0.1.</help>
<default>0.1</default>
</param>
   <param xsi:type="psd:string">
<name>scaletype</name>
<required>false</required>
<prompt>e.g., 'NONE'</prompt>
<help>Image plane flux scale type ('NONE', 'SAULT'). Default is 'NONE'.</help>
<default>NONE</default>
</param>
   <param xsi:type="psd:int">
<name>stoplargenegatives</name>
<required>false</required> 
<prompt>e.g., -1</prompt>
<help>Stop large negatives. Default=-1.</help>
<default>-1</default>
</param>
   <param xsi:type="psd:double">
<name>cyclefactor</name>
<required>false</required> 
<prompt>e.g., 1.5</prompt>
<help>Cycle factor. Default=1.5.</help>
<default>1.5</default>
</param>
   <param xsi:type="psd:double">
<name>cyclespeedup</name>
<required>false</required> 
<prompt>e.g., 2</prompt>
<help>Cycle speedup. Default=2.</help>
<default>2.0</default>
</param>
</psd:pset>
